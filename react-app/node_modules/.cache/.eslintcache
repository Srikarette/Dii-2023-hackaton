<<<<<<< HEAD
[{"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\index.js":"1","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\reportWebVitals.js":"2","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\App.js":"3","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\OfficialsLogin.js":"4","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Notifcation.js":"5","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Erro404.js":"6","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Navbar.js":"7","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\MapNew.js":"8","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\fetchNotifications.js":"9","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\BaseMap.js":"10","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\CSVFileLocal.js":"11","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\GlobalStyle.js":"12","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\ComponentContainer.js":"13","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Map.js":"14","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Chatpage.js":"15","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Hooks\\LocationMarker.js":"16","C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\data\\data.js":"17"},{"size":555,"mtime":1698214117794,"results":"18","hashOfConfig":"19"},{"size":375,"mtime":1698213558068,"results":"20","hashOfConfig":"19"},{"size":1092,"mtime":1698647694858,"results":"21","hashOfConfig":"19"},{"size":218,"mtime":1698214117795,"results":"22","hashOfConfig":"19"},{"size":111,"mtime":1698214117794,"results":"23","hashOfConfig":"19"},{"size":116,"mtime":1698214117794,"results":"24","hashOfConfig":"19"},{"size":844,"mtime":1698214117790,"results":"25","hashOfConfig":"19"},{"size":10749,"mtime":1698647694873,"results":"26","hashOfConfig":"19"},{"size":447,"mtime":1698214117792,"results":"27","hashOfConfig":"19"},{"size":1124,"mtime":1698214117790,"results":"28","hashOfConfig":"19"},{"size":1396,"mtime":1698214117791,"results":"29","hashOfConfig":"19"},{"size":240,"mtime":1698647694870,"results":"30","hashOfConfig":"19"},{"size":419,"mtime":1698647694859,"results":"31","hashOfConfig":"19"},{"size":5939,"mtime":1698647694872,"results":"32","hashOfConfig":"19"},{"size":838,"mtime":1698647694875,"results":"33","hashOfConfig":"19"},{"size":562,"mtime":1698647694872,"results":"34","hashOfConfig":"19"},{"size":2125,"mtime":1698647694874,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9npnop",{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\index.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\reportWebVitals.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\App.js",["87","88","89","90","91"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\OfficialsLogin.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Notifcation.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Erro404.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Navbar.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\MapNew.js",["92","93","94","95","96","97","98","99","100"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\fetchNotifications.js",["101"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\BaseMap.js",["102"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\CSVFileLocal.js",["103","104","105"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\GlobalStyle.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\ComponentContainer.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Map.js",["106","107","108","109","110"],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\pages\\Chatpage.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\components\\Hooks\\LocationMarker.js",[],[],"C:\\Users\\Lenovo\\Desktop\\Dii-2023-hackaton\\react-app\\src\\data\\data.js",[],[],{"ruleId":"111","severity":1,"message":"112","line":2,"column":8,"nodeType":"113","messageId":"114","endLine":2,"endColumn":14},{"ruleId":"111","severity":1,"message":"115","line":4,"column":8,"nodeType":"113","messageId":"114","endLine":4,"endColumn":26},{"ruleId":"111","severity":1,"message":"116","line":5,"column":8,"nodeType":"113","messageId":"114","endLine":5,"endColumn":19},{"ruleId":"111","severity":1,"message":"117","line":6,"column":8,"nodeType":"113","messageId":"114","endLine":6,"endColumn":11},{"ruleId":"111","severity":1,"message":"118","line":7,"column":8,"nodeType":"113","messageId":"114","endLine":7,"endColumn":16},{"ruleId":"111","severity":1,"message":"119","line":3,"column":3,"nodeType":"113","messageId":"114","endLine":3,"endColumn":12},{"ruleId":"111","severity":1,"message":"120","line":13,"column":8,"nodeType":"113","messageId":"114","endLine":13,"endColumn":22},{"ruleId":"111","severity":1,"message":"121","line":24,"column":10,"nodeType":"113","messageId":"114","endLine":24,"endColumn":14},{"ruleId":"111","severity":1,"message":"122","line":26,"column":10,"nodeType":"113","messageId":"114","endLine":26,"endColumn":18},{"ruleId":"111","severity":1,"message":"123","line":30,"column":10,"nodeType":"113","messageId":"114","endLine":30,"endColumn":26},{"ruleId":"111","severity":1,"message":"124","line":30,"column":28,"nodeType":"113","messageId":"114","endLine":30,"endColumn":47},{"ruleId":"111","severity":1,"message":"125","line":40,"column":10,"nodeType":"113","messageId":"114","endLine":40,"endColumn":27},{"ruleId":"111","severity":1,"message":"126","line":40,"column":29,"nodeType":"113","messageId":"114","endLine":40,"endColumn":49},{"ruleId":"111","severity":1,"message":"127","line":92,"column":9,"nodeType":"113","messageId":"114","endLine":92,"endColumn":31},{"ruleId":"111","severity":1,"message":"128","line":1,"column":8,"nodeType":"113","messageId":"114","endLine":1,"endColumn":13},{"ruleId":"111","severity":1,"message":"129","line":1,"column":10,"nodeType":"113","messageId":"114","endLine":1,"endColumn":15},{"ruleId":"111","severity":1,"message":"128","line":1,"column":8,"nodeType":"113","messageId":"114","endLine":1,"endColumn":13},{"ruleId":"111","severity":1,"message":"130","line":3,"column":10,"nodeType":"113","messageId":"114","endLine":3,"endColumn":16},{"ruleId":"111","severity":1,"message":"131","line":8,"column":10,"nodeType":"113","messageId":"114","endLine":8,"endColumn":17},{"ruleId":"111","severity":1,"message":"132","line":14,"column":8,"nodeType":"113","messageId":"114","endLine":14,"endColumn":14},{"ruleId":"111","severity":1,"message":"120","line":15,"column":8,"nodeType":"113","messageId":"114","endLine":15,"endColumn":22},{"ruleId":"111","severity":1,"message":"122","line":39,"column":10,"nodeType":"113","messageId":"114","endLine":39,"endColumn":18},{"ruleId":"111","severity":1,"message":"127","line":46,"column":9,"nodeType":"113","messageId":"114","endLine":46,"endColumn":31},{"ruleId":"111","severity":1,"message":"133","line":81,"column":9,"nodeType":"113","messageId":"114","endLine":81,"endColumn":27},"no-unused-vars","'styles' is defined but never used.","Identifier","unusedVar","'ComponentContainer' is defined but never used.","'GlobalStyle' is defined but never used.","'Map' is defined but never used.","'Chatpage' is defined but never used.","'TileLayer' is defined but never used.","'LocationMarker' is defined but never used.","'zoom' is assigned a value but never used.","'mapReady' is assigned a value but never used.","'dangerZoneRadius' is assigned a value but never used.","'setDangerZoneRadius' is assigned a value but never used.","'newMarkerLocation' is assigned a value but never used.","'setNewMarkerLocation' is assigned a value but never used.","'handleGoToUserLocation' is assigned a value but never used.","'React' is defined but never used.","'Layer' is defined but never used.","'Marker' is defined but never used.","'airport' is assigned a value but never used.","'Navbar' is defined but never used.","'handleRadiusChange' is assigned a value but never used."]
=======
[{"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\index.js":"1","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\App.js":"2","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\reportWebVitals.js":"3","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\MapNew.js":"4","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\Erro404.js":"5","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\Navbar.js":"6","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\Notifcation.js":"7","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\OfficialsLogin.js":"8","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\BaseMap.js":"9","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\CSVFileLocal.js":"10","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\fetchNotifications.js":"11","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\functions\\travel.js":"12","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\Mapcontent.js":"13"},{"size":555,"mtime":1697880097869,"results":"14","hashOfConfig":"15"},{"size":1040,"mtime":1698594184722,"results":"16","hashOfConfig":"15"},{"size":375,"mtime":1697442695666,"results":"17","hashOfConfig":"15"},{"size":12615,"mtime":1698466685998,"results":"18","hashOfConfig":"15"},{"size":116,"mtime":1697880097874,"results":"19","hashOfConfig":"15"},{"size":844,"mtime":1697989575655,"results":"20","hashOfConfig":"15"},{"size":111,"mtime":1697880097880,"results":"21","hashOfConfig":"15"},{"size":218,"mtime":1697880097885,"results":"22","hashOfConfig":"15"},{"size":1124,"mtime":1697998598620,"results":"23","hashOfConfig":"15"},{"size":1396,"mtime":1698074924002,"results":"24","hashOfConfig":"15"},{"size":447,"mtime":1698073196806,"results":"25","hashOfConfig":"15"},{"size":242,"mtime":1698600746457,"results":"26","hashOfConfig":"15"},{"size":4870,"mtime":1698605042515,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"16e3mx3",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"31"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"31"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"31"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\index.js",[],[],["72"],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\App.js",["73"],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\reportWebVitals.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\MapNew.js",["74","75","76","77"],[],"import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  MapContainer,\r\n  Marker,\r\n  Popup,\r\n  useMapEvents,\r\n  Circle,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport MarkerClusterGroup from \"react-leaflet-cluster\";\r\nimport BaseMap from \"./StyleofMap/BaseMap\";\r\nimport CSVFileLocal from \"./StyleofMap/CSVFileLocal\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n//For backend test\r\nimport fetchNotifications from \"./StyleofMap/fetchNotifications\"; //spring boot\r\n\r\nconst MapNew = () => {\r\n  const initialCenter = [13.7563, 100.5018];\r\n  const initialZoomLevel = 6;\r\n\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [showUserLocation, setShowUserLocation] = useState(false);\r\n  const [zoom, setZoom] = useState(initialZoomLevel);\r\n  const [center, setCenter] = useState(initialCenter);\r\n\r\n  const titleOptions = [\"Fire\", \"Flood\", \"Land Slide\", \"Active Shooting\"];\r\n  const bounds = L.latLngBounds(L.latLng(5, 90), L.latLng(25, 120));\r\n\r\n  const [fetchedData, setFetchedData] = useState([]);\r\n  const [position, setPosition] = useState(null);\r\n  const [form, setForm] = useState({\r\n    lat: 0,\r\n    lng: 0,\r\n    category: \"\",\r\n  });\r\n  let DefaultIcon = L.icon({\r\n    iconUrl: icon,\r\n  });\r\n\r\n  L.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n  // Create a state variable to hold the marker data\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchUserLocation();\r\n    fetchDataFromAPI();\r\n  }, []);\r\n\r\n  // FETCH USER LOCATION\r\n  const fetchUserLocation = () => {\r\n    if (\"geolocation\" in navigator) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setUserLocation([latitude, longitude]);\r\n        setCenter([latitude, longitude]);\r\n        setZoom(16);\r\n        setShowUserLocation(true);\r\n      });\r\n    } else {\r\n      alert(\"Geolocation is not supported in your browser.\");\r\n    }\r\n  };\r\n\r\n  // Set user location as the current location\r\n  const handleGoToUserLocation = () => {\r\n    if (\"geolocation\" in navigator) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setUserLocation([latitude, longitude]);\r\n        setCenter([latitude, longitude]);\r\n        setZoom(16);\r\n        setShowUserLocation(!showUserLocation);\r\n      });\r\n    } else {\r\n      alert(\"Geolocation is not supported in your browser.\");\r\n    }\r\n  };\r\n\r\n  // Fetch data from Spring boot 8090\r\n  const fetchDataFromAPI = async () => {\r\n    try {\r\n      const data = await fetchNotifications();\r\n      setFetchedData(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  // Click for ready Marked\r\n  function LocationMarker() {\r\n    const map = useMapEvents({\r\n      click(e) {\r\n        map.flyTo(e.latlng, 15);\r\n        setPosition(e.latlng);\r\n        setForm({\r\n          ...form,\r\n          lat: e.latlng.lat,\r\n          lng: e.latlng.lng,\r\n        });\r\n      },\r\n    });\r\n    return position === null ? null : (\r\n      <Marker\r\n        position={position}\r\n        icon={createCustomIcon(\"problem.png\", [38, 38])}\r\n      >\r\n        <Popup>Ready for Marked</Popup>\r\n      </Marker>\r\n    );\r\n  }\r\n\r\n  // Pull Icon from assets\r\n  const createCustomIcon = (iconUrl, iconSize) => {\r\n    return new L.Icon({\r\n      iconUrl: require(`../assets/${iconUrl}`),\r\n      iconSize,\r\n    });\r\n  };\r\n\r\n  // Write in form\r\n  const handleOnChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  // Group Markers\r\n  const groupedMarkers = fetchedData.reduce((grouped, dataItem) => {\r\n    if (!grouped[dataItem.category]) {\r\n      grouped[dataItem.category] = [];\r\n    }\r\n    grouped[dataItem.category].push(dataItem);\r\n    return grouped;\r\n  }, {});\r\n\r\n  const selectedCategory = form.category; // Store the selected category\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handlePostMarker(form.category, form.lat, form.lng);\r\n\r\n    // Create a new marker data\r\n    const newMarker = {\r\n      id: Date.now(), // You can use a unique identifier for the marker\r\n      category: form.category,\r\n      latitude: form.lat,\r\n      longitude: form.lng,\r\n      sent_at: new Date().toISOString(), // Add timestamp or use your actual timestamp\r\n    };\r\n\r\n    // Update the markers state with the new marker data\r\n    setMarkers((prevMarkers) => [...prevMarkers, newMarker]);\r\n\r\n    // Clear the form\r\n    setForm({\r\n      lat: 0,\r\n      lng: 0,\r\n      category: \"\",\r\n    });\r\n  };\r\n\r\n  // Handle posting a new marker to the server\r\n  const handlePostMarker = async (category, latitude, longitude) => {\r\n    try {\r\n      const response = await axios.post(\"http://localhost:8090/notifications\", {\r\n        category: category,\r\n        latitude: latitude,\r\n        longitude: longitude,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log(\"Data posted successfully\");\r\n      } else {\r\n        console.error(\"Failed to post data:\", response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  // Handle deleting a marker\r\n  const handleDeleteMarker = (notificationId) => {\r\n    axios\r\n      .delete(`http://localhost:8090/notifications/${notificationId}`)\r\n      .then((response) => {\r\n        // Handle success, such as removing the marker from the map\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex\">\r\n        {userLocation && (\r\n          <MapContainer\r\n            center={center}\r\n            zoom={16}\r\n            className=\"MapContainer\"\r\n            bounds={bounds}\r\n            style={{ height: \"89vh\", width: \"87%\" }}\r\n            minZoom={6}\r\n          >\r\n            <LocationMarker />\r\n            <BaseMap />\r\n            <CSVFileLocal />\r\n            {Object.keys(groupedMarkers).map((category, index) => (\r\n              <MarkerClusterGroup\r\n                key={index}\r\n                maxClusterRadius={50}\r\n                chunkedLoading\r\n              >\r\n                {groupedMarkers[category].map((dataItem, markerIndex) => {\r\n                  let markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\r\n\r\n                  if (category === \"Flood\") {\r\n                    markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\r\n                  } else if (category === \"Land Slide\") {\r\n                    markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\r\n                  } else if (category === \"Active Shooting\") {\r\n                    markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\r\n                  }\r\n\r\n                  return (\r\n                    <Marker\r\n                      key={markerIndex}\r\n                      position={[dataItem.latitude, dataItem.longitude]}\r\n                      icon={markerIcon}\r\n                    >\r\n                      <Popup>\r\n                        <div>\r\n                          <p>ID: {dataItem.id}</p>\r\n                          <p>Category: {dataItem.category}</p>\r\n                          <p>Latitude: {dataItem.latitude}</p>\r\n                          <p>Longitude: {dataItem.longitude}</p>\r\n                          <p>Sent At: {dataItem.sent_at}</p>\r\n                          <button className=\"border-2 border-blue-500 rounded-lg p-1 bg-blue-500 text-yellow-200 mr-4\">\r\n                            Update\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteMarker(dataItem.id)}\r\n                            className=\"border-2 border-rose-500 rounded-lg p-1 bg-red-500 text-yellow-100\"\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </Popup>\r\n                    </Marker>\r\n                  );\r\n                })}\r\n              </MarkerClusterGroup>\r\n            ))}\r\n\r\n            {showUserLocation && (\r\n              <Marker\r\n                position={userLocation}\r\n                icon={createCustomIcon(\"raise-hand.png\", [40, 40])}\r\n              >\r\n                <Popup>Your Location</Popup>\r\n              </Marker>\r\n            )}\r\n\r\n            {/* Render newly added markers */}\r\n            {markers.map((newMarker, markerIndex) => {\r\n              let markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\r\n\r\n              if (newMarker.category === \"wildfire\") {\r\n                markerIcon = createCustomIcon(\"wildfire.png\", [38, 38]);\r\n              } else if (newMarker.category === \"flood\") {\r\n                markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\r\n              } else if (newMarker.category === \"Land Slide\") {\r\n                markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\r\n              } else if (newMarker.category === \"Active Shooting\") {\r\n                markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\r\n              }\r\n\r\n              return (\r\n                <Marker\r\n                  key={markerIndex}\r\n                  position={[newMarker.latitude, newMarker.longitude]}\r\n                  icon={markerIcon}\r\n                >\r\n                  <Popup>\r\n                    <div>\r\n                      <p>ID: {newMarker.id}</p>\r\n                      <p>Category: {newMarker.category}</p>\r\n                      <p>Latitude: {newMarker.latitude}</p>\r\n                      <p>Longitude: {newMarker.longitude}</p>\r\n                      <p>Sent At: {newMarker.sent_at}</p>\r\n                      <button className=\"border-2 border-blue-500 rounded-lg p-1 bg-blue-500 text-yellow-200 mr-4\">\r\n                        Update\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDeleteMarker(newMarker.id)}\r\n                        className=\"border-2 border-rose-500 rounded-lg p-1 bg-red-500 text-yellow-100\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </Popup>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </MapContainer>\r\n        )}\r\n        <form\r\n          className=\"bg-white shadow-md rounded px-4 py-2\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"category\"\r\n              className=\"block text-gray-700 font-semibold\"\r\n            >\r\n              Category:\r\n            </label>\r\n            <select\r\n              name=\"category\"\r\n              id=\"category\"\r\n              onChange={handleOnChange}\r\n              className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\r\n            >\r\n              {titleOptions.map((option, index) => (\r\n                <option key={index} value={option}>\r\n                  {option}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"latitude\"\r\n              className=\"block text-gray-700 font-semibold\"\r\n            >\r\n              Latitude:\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"lat\"\r\n              value={form.lat}\r\n              id=\"latitude\"\r\n              onChange={handleOnChange}\r\n              className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"longitude\"\r\n              className=\"block text-gray-700 font-semibold\"\r\n            >\r\n              Longitude:\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={form.lng}\r\n              name=\"lng\"\r\n              onChange={handleOnChange}\r\n              id=\"longitude\"\r\n              className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\r\n            />\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-blue-500 text-white font-semibold py-2 px-4 rounded hover-bg-blue-600 focus:outline-none focus:bg-blue-600\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MapNew;\r\n","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\Erro404.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\Navbar.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\Notifcation.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\pages\\OfficialsLogin.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\BaseMap.js",["78"],[],"import { Layer } from \"leaflet\";\r\nimport React from \"react\";\r\nimport { TileLayer, LayersControl } from \"react-leaflet\";\r\n\r\nconst BaseMap = () => {\r\n  return (\r\n    <LayersControl position=\"topright\">\r\n      <LayersControl.BaseLayer name=\"Default\" checked>\r\n        <TileLayer url=\"https://tile.openstreetmap.de/{z}/{x}/{y}.png\" />\r\n      </LayersControl.BaseLayer>\r\n      <LayersControl.BaseLayer name=\"Anime\">\r\n        <TileLayer url=\"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\" />\r\n      </LayersControl.BaseLayer>\r\n      <LayersControl.BaseLayer name=\"sandbox\">\r\n        <TileLayer\r\n          url=\"https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg\"\r\n          attribution='&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a> &copy; <a href=\"https://www.stamen.com/\" target=\"_blank\">Stamen Design</a> &copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n      </LayersControl.BaseLayer>\r\n    </LayersControl>\r\n  );\r\n};\r\n\r\nexport default BaseMap;\r\n","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\CSVFileLocal.js",["79","80","81"],[],"import React, { useState, useEffect } from \"react\";\r\nimport Papa from \"papaparse\";\r\nimport { Marker } from \"react-leaflet\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\nimport L from \"leaflet\";\r\n\r\nconst CSVFileLocal = () => {\r\n  const [airport, setAirport] = useState(null);\r\n  let DefaultIcon = L.icon({\r\n    iconUrl: require(\"../../assets/airport.png\"),\r\n    shadowUrl: iconShadow,\r\n    iconSize: [20, 20],\r\n    iconAnchor: [12.5, 20.5],\r\n  });\r\n  L.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n  useEffect(() => {\r\n    //code\r\n    fetchAirport();\r\n  }, []); //add array for block infinity loop\r\n\r\n  const fetchAirport = async () => {\r\n    const file = require(\"../../assets/Airport.csv\");\r\n    const res = await fetch(file);\r\n    // console.log(\"Show Response\", res);\r\n\r\n    const text = await res.text();\r\n    // console.log(\"Show Text\", text);\r\n\r\n    const json = Papa.parse(text, { header: true }).data;\r\n    // console.log(\"Show Json\", json);\r\n\r\n    const filterAirport = json.filter(\r\n      (item) => item.long !== \"\" && item.lat !== \"\"\r\n    ); //กรอง data เก็บไว้ใน item\r\n    setAirport(filterAirport);\r\n  };\r\n  // return airport\r\n  //   ? airport.map((item, index) => (\r\n  //       <Marker key={index} position={[item.lat, item.long]}></Marker>\r\n  //     ))\r\n  //   : null; // lat ก่อน long\r\n};\r\n\r\nexport default CSVFileLocal;\r\n","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\StyleofMap\\fetchNotifications.js",["82"],[],"import React from \"react\";\r\n\r\nconst fetchNotifications = async () => {\r\n  try {\r\n    const response = await fetch(\"http://localhost:8090/notifications\");\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default fetchNotifications;\r\n","E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\functions\\travel.js",[],[],"E:\\Dii\\BigProject\\Dii-2023-hackaton\\react-app\\src\\components\\Mapcontent.js",["83","84","85"],[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","severity":1,"message":"89","line":2,"column":8,"nodeType":"90","messageId":"91","endLine":2,"endColumn":14},{"ruleId":"88","severity":1,"message":"92","line":8,"column":3,"nodeType":"90","messageId":"91","endLine":8,"endColumn":9},{"ruleId":"88","severity":1,"message":"93","line":25,"column":10,"nodeType":"90","messageId":"91","endLine":25,"endColumn":14},{"ruleId":"88","severity":1,"message":"94","line":68,"column":9,"nodeType":"90","messageId":"91","endLine":68,"endColumn":31},{"ruleId":"88","severity":1,"message":"95","line":140,"column":9,"nodeType":"90","messageId":"91","endLine":140,"endColumn":25},{"ruleId":"88","severity":1,"message":"96","line":1,"column":10,"nodeType":"90","messageId":"91","endLine":1,"endColumn":15},{"ruleId":"88","severity":1,"message":"97","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":13},{"ruleId":"88","severity":1,"message":"98","line":3,"column":10,"nodeType":"90","messageId":"91","endLine":3,"endColumn":16},{"ruleId":"88","severity":1,"message":"99","line":8,"column":10,"nodeType":"90","messageId":"91","endLine":8,"endColumn":17},{"ruleId":"88","severity":1,"message":"97","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":13},{"ruleId":"88","severity":1,"message":"100","line":2,"column":8,"nodeType":"90","messageId":"91","endLine":2,"endColumn":13},{"ruleId":"88","severity":1,"message":"92","line":8,"column":3,"nodeType":"90","messageId":"91","endLine":8,"endColumn":9},{"ruleId":"88","severity":1,"message":"101","line":16,"column":10,"nodeType":"90","messageId":"91","endLine":16,"endColumn":14},"no-new-object",["102"],"no-unused-vars","'styles' is defined but never used.","Identifier","unusedVar","'Circle' is defined but never used.","'zoom' is assigned a value but never used.","'handleGoToUserLocation' is assigned a value but never used.","'selectedCategory' is assigned a value but never used.","'Layer' is defined but never used.","'React' is defined but never used.","'Marker' is defined but never used.","'airport' is assigned a value but never used.","'axios' is defined but never used.","'Mark' is defined but never used.","no-object-constructor"]
>>>>>>> chatweb
