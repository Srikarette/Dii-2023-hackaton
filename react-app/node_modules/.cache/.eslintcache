[{"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/index.js":"1","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/reportWebVitals.js":"2","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/App.js":"3","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/pages/Erro404.js":"4","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/pages/ManageAdmin.js":"5","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Mapuser.js":"6","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Mapadmin.js":"7","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Home.js":"8","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Navbar.js":"9","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Form/AdminLoginForm.js":"10","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Form/Formedit.js":"11","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/CombineLayers.js":"12","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/StyleofMap/CSVFileLocal.js":"13","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/functions/fetchNotifications.js":"14","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/ProvinceTH.js":"15","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/PointofInterest.js":"16"},{"size":536,"mtime":1698996734510,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1698996723182,"results":"19","hashOfConfig":"18"},{"size":1328,"mtime":1699520629380,"results":"20","hashOfConfig":"18"},{"size":110,"mtime":1699250816538,"results":"21","hashOfConfig":"18"},{"size":6702,"mtime":1699502096932,"results":"22","hashOfConfig":"18"},{"size":7102,"mtime":1699508191846,"results":"23","hashOfConfig":"18"},{"size":15853,"mtime":1699504592979,"results":"24","hashOfConfig":"18"},{"size":4733,"mtime":1699521961333,"results":"25","hashOfConfig":"18"},{"size":5781,"mtime":1699521557412,"results":"26","hashOfConfig":"18"},{"size":3383,"mtime":1699510598140,"results":"27","hashOfConfig":"18"},{"size":3011,"mtime":1699502096930,"results":"28","hashOfConfig":"18"},{"size":789,"mtime":1699502096931,"results":"29","hashOfConfig":"18"},{"size":1119,"mtime":1699502096931,"results":"30","hashOfConfig":"18"},{"size":1150,"mtime":1699508201642,"results":"31","hashOfConfig":"18"},{"size":388,"mtime":1698996734509,"results":"32","hashOfConfig":"18"},{"size":658,"mtime":1699502096932,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"1yx7twf",{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"37"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"37"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"37"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"37"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/index.js",[],[],["87","88","89","90","91","92"],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/reportWebVitals.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/App.js",["93"],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/pages/Erro404.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/pages/ManageAdmin.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Mapuser.js",["94","95","96","97","98","99","100","101","102","103","104","105"],[],"import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport {\n  MapContainer,\n  Marker,\n  Popup,\n  useMapEvents,\n  Circle,\n  useMap,\n  TileLayer,\n} from \"react-leaflet\";\nimport L from \"leaflet\";\nimport icon from \"leaflet/dist/images/marker-icon.png\";\nimport MarkerClusterGroup from \"react-leaflet-cluster\";\nimport CSVFileLocal from \"./StyleofMap/CSVFileLocal\";\nimport \"leaflet/dist/leaflet.css\";\n//For backend test\nimport { fetchAllNotifications } from \"./functions/fetchNotifications\";\nimport CombineLayers from \"./layers/CombineLayers\";\nimport liff from \"@line/liff\";\n\nconst Mapuser = () => {\n  const initialCenter = [13.7563, 100.5018];\n  const initialZoomLevel = 6;\n  const mapRef = useRef(); // Create a ref to store the map instance\n\n  const [userLocation, setUserLocation] = useState(null);\n  const [showUserLocation, setShowUserLocation] = useState(false);\n  const [zoom, setZoom] = useState(initialZoomLevel);\n  const [center, setCenter] = useState(initialCenter);\n\n  const titleOptions = [\"Fire\", \"Flood\", \"Land Slide\", \"Active Shooting\"];\n  const bounds = L.latLngBounds(L.latLng(5, 90), L.latLng(25, 120));\n\n  const [fetchedData, setFetchedData] = useState([]);\n  const [position, setPosition] = useState(null);\n  const [form, setForm] = useState({\n    lat: 0,\n    lng: 0,\n    category: \"\",\n  });\n  const [data, setData] = useState([]);\n  let DefaultIcon = L.icon({\n    iconUrl: icon,\n  });\n  L.Marker.prototype.options.icon = DefaultIcon;\n\n  // Create a state variable to hold the marker data\n  const [markers, setMarkers] = useState([]);\n\n  useEffect(() => {\n    fetchUserLocation();\n    fetchDataFromAPI();\n  }, []);\n\n  // FETCH USER LOCATION\n  const fetchUserLocation = () => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        const { latitude, longitude } = position.coords;\n        setUserLocation([latitude, longitude]);\n        setCenter([latitude, longitude]);\n        setZoom(16);\n        setShowUserLocation(true);\n      });\n    } else {\n      alert(\"Geolocation is not supported in your browser.\");\n    }\n  };\n\n  // Fetch data from Spring boot 8090\n  const fetchDataFromAPI = async () => {\n    try {\n      const data = await fetchAllNotifications();\n      setFetchedData(data);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  // Click for ready Marked\n  function LocationMarker() {\n    const map = useMapEvents({\n      click(e) {\n        map.flyTo(e.latlng, 15);\n        setPosition(e.latlng);\n        setForm({\n          ...form,\n          lat: e.latlng.lat,\n          lng: e.latlng.lng,\n        });\n      },\n    });\n    return position === null ? null : (\n      <Marker\n        position={position}\n        icon={createCustomIcon(\"problem.png\", [38, 38])}\n      >\n        <Popup>Ready for Marked</Popup>\n      </Marker>\n    );\n  }\n\n  // Pull Icon from assets\n  const createCustomIcon = (iconUrl, iconSize) => {\n    return new L.Icon({\n      iconUrl: require(`../assets/${iconUrl}`),\n      iconSize,\n    });\n  };\n\n  // Write in form\n  const handleOnChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Group Markers\n  const groupedMarkers = fetchedData.reduce((grouped, dataItem) => {\n    if (!grouped[dataItem.category]) {\n      grouped[dataItem.category] = [];\n    }\n    grouped[dataItem.category].push(dataItem);\n    return grouped;\n  }, {});\n\n  const selectedCategory = form.category; // Store the selected category\n\n  // Handle form submission\n\n  return (\n    <>\n      <div className=\"flex\">\n        {userLocation && (\n          <MapContainer\n            center={center}\n            zoom={16}\n            ref={mapRef} // Assign the map instance to the ref\n            className=\"MapContainer\"\n            bounds={bounds}\n            style={{ height: \"89vh\", width: \"100%\", zIndex: \"0\" }}\n            minZoom={6}\n          >\n            <CombineLayers />\n\n            <LocationMarker />\n            <CSVFileLocal />\n            {Object.keys(groupedMarkers).map((category, index) => (\n              <MarkerClusterGroup\n                key={index}\n                maxClusterRadius={50}\n                chunkedLoading\n              >\n                {groupedMarkers[category].map((dataItem, markerIndex) => {\n                  let markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\n\n                  if (category === \"Flood\") {\n                    markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\n                  } else if (category === \"Land Slide\") {\n                    markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\n                  } else if (category === \"Active Shooting\") {\n                    markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\n                  }\n\n                  return (\n                    <Marker\n                      key={markerIndex}\n                      position={[dataItem.latitude, dataItem.longitude]}\n                      icon={markerIcon}\n                    >\n                      <Popup>\n                        <div>\n                          <p>Category: {dataItem.category}</p>\n                          <p>Latitude: {dataItem.latitude}</p>\n                          <p>Longitude: {dataItem.longitude}</p>\n                          <p>Sent At: {dataItem.sent_at}</p>\n                        </div>\n                      </Popup>\n                    </Marker>\n                  );\n                })}\n              </MarkerClusterGroup>\n            ))}\n            {showUserLocation && (\n              <Marker\n                position={userLocation}\n                icon={createCustomIcon(\"raise-hand.png\", [40, 40])}\n              >\n                <Popup>Your Location</Popup>\n              </Marker>\n            )}\n            {/* Render newly added markers */}\n            {markers.map((newMarker, markerIndex) => {\n              let markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\n\n              if (newMarker.category === \"flood\") {\n                markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\n              } else if (newMarker.category === \"Land Slide\") {\n                markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\n              } else if (newMarker.category === \"Active Shooting\") {\n                markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\n              }\n\n              return (\n                <Marker\n                  key={markerIndex}\n                  position={[newMarker.latitude, newMarker.longitude]}\n                  icon={markerIcon}\n                >\n                  <Popup>\n                    <div>\n                      <p>Category: {newMarker.category}</p>\n                      <p>Latitude: {newMarker.latitude}</p>\n                      <p>Longitude: {newMarker.longitude}</p>\n                      <p>Sent At: {newMarker.sent_at}</p>\n                    </div>\n                  </Popup>\n                </Marker>\n              );\n            })}\n          </MapContainer>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Mapuser;\n","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Mapadmin.js",["106","107","108"],[],"import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { MapContainer, Marker, Popup, useMapEvents } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport icon from \"leaflet/dist/images/marker-icon.png\";\nimport MarkerClusterGroup from \"react-leaflet-cluster\";\nimport CSVFileLocal from \"./StyleofMap/CSVFileLocal\";\nimport \"leaflet/dist/leaflet.css\";\n//For backend test\nimport { fetchAllNotifications } from \"./functions/fetchNotifications\";\nimport Formedit from \"./Form/Formedit\";\nimport CombineLayers from \"./layers/CombineLayers\";\n\nconst Mapadmin = () => {\n  const initialCenter = [13.7563, 100.5018];\n  const initialZoomLevel = 6;\n  const mapRef = useRef(); // Create a ref to store the map instance\n\n  const [userLocation, setUserLocation] = useState(null);\n  const [showUserLocation, setShowUserLocation] = useState(false);\n  const [zoom, setZoom] = useState(initialZoomLevel);\n  const [center, setCenter] = useState(initialCenter);\n\n  const titleOptions = [\n    \"Select Category\",\n    \"Fire\",\n    \"Flood\",\n    \"Land Slide\",\n    \"Active Shooting\",\n  ];\n  const bounds = L.latLngBounds(L.latLng(5, 90), L.latLng(25, 120));\n\n  const [fetchedData, setFetchedData] = useState([]);\n  const [position, setPosition] = useState(null);\n  const [form, setForm] = useState({\n    latitude: 0,\n    longitude: 0,\n    category: \"\",\n  });\n  const [data, setData] = useState([]);\n  let DefaultIcon = L.icon({\n    iconUrl: icon,\n  });\n  //For Edit button\n  const [id, setId] = useState(null);\n  const [drag, setDrag] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  L.Marker.prototype.options.icon = DefaultIcon;\n\n  // Create a state variable to hold the marker data\n  const [markers, setMarkers] = useState([]);\n\n  useEffect(() => {\n    fetchUserLocation();\n    fetchDataFromAPI();\n  }, []);\n  const loaddata = () => {\n    fetchDataFromAPI()\n      .then((res) => {\n        setData(res.data);\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  // FETCH USER LOCATION\n  const fetchUserLocation = () => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        const { latitude, longitude } = position.coords;\n        setUserLocation([latitude, longitude]);\n        setCenter([latitude, longitude]);\n        setZoom(16);\n        setShowUserLocation(true);\n      });\n    } else {\n      alert(\"Geolocation is not supported in your browser.\");\n    }\n  };\n\n  // Fetch data from Spring boot 8090\n  const fetchDataFromAPI = async () => {\n    try {\n      const data = await fetchAllNotifications();\n      setFetchedData(data);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  // Click for ready Marked\n  function LocationMarker() {\n    const map = useMapEvents({\n      click(e) {\n        map.flyTo(e.latlng, 15);\n        setPosition(e.latlng);\n        setForm({\n          ...form,\n          latitude: e.latlng.lat,\n          longitude: e.latlng.lng,\n        });\n      },\n    });\n    return position === null ? null : (\n      <Marker\n        position={position}\n        icon={createCustomIcon(\"problem.png\", [38, 38])}\n      >\n        <Popup>Ready for Marked</Popup>\n      </Marker>\n    );\n  }\n\n  // Pull Icon from assets\n  const createCustomIcon = (iconUrl, iconSize) => {\n    return new L.Icon({\n      iconUrl: require(`../assets/${iconUrl}`),\n      iconSize,\n    });\n  };\n\n  // Write in form\n  const handleOnChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Group Markers\n  const groupedMarkers = fetchedData.reduce((grouped, dataItem) => {\n    if (!grouped[dataItem.category]) {\n      grouped[dataItem.category] = [];\n    }\n    grouped[dataItem.category].push(dataItem);\n    return grouped;\n  }, {});\n\n  const selectedCategory = form?.category || \"\"; // Provide a default value if 'form' or 'category' is undefined\n\n  // Handle form submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handlePostMarker(form.category, form.latitude, form.longitude);\n\n    // Create a new marker data\n    const newMarker = {\n      id: Date.now(), // You can use a unique identifier for the marker\n      category: form.category,\n      latitude: form.latitude,\n      longitude: form.longitude,\n      sent_at: new Date().toISOString(), // Add timestamp or use your actual timestamp\n    };\n\n    // Update the markers state with the new marker data\n    setMarkers((prevMarkers) => [...prevMarkers, newMarker]);\n\n    // Clear the form\n    setForm({\n      latitude: 0,\n      longitude: 0,\n      category: \"\", // Reset the category to its default value\n    });\n    loaddata();\n  };\n\n  const flyto = (latitude, longitude) => {\n    console.log(latitude, longitude);\n    mapRef.current.flyTo([latitude, longitude], 15);\n  };\n\n  // Handle posting a new marker to the server\n  const handlePostMarker = async (category, latitude, longitude) => {\n    try {\n      const response = await axios.post(\"http://localhost:8081/notifications\", {\n        category: category,\n        latitude: latitude,\n        longitude: longitude,\n      });\n\n      if (response.status === 200) {\n        console.log(\"Data posted successfully\");\n      } else {\n        console.error(\"Failed to post data:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n\n  // Handle deleting a marker\n  const handleDeleteMarker = (notificationId) => {\n    // Perform the delete operation\n    axios\n      .delete(`http://localhost:8081/notifications/${notificationId}`)\n      .then((response) => {\n        if (response.status === 200) {\n          console.log(\"Data deleted successfully\");\n          loaddata(); // Reload data after successful deletion\n        } else {\n          console.error(\"Failed to delete data:\", response.statusText);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n\n  //Handle edit\n  const handleEdit = (id, category, latitude, longitude) => {\n    flyto(latitude, longitude);\n\n    setId(id);\n    setDrag(true); // Enable marker dragging\n\n    setEdit(true);\n  };\n\n  const handleSubmitEdit = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    for (const key in form) {\n      formData.append(key, form[key]);\n    }\n\n    // Send the updated marker data to the server here\n    // For example, you can use an Axios POST request\n    axios\n      .patch(`http://localhost:8081/notifications/${id}`, formData, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n\n      .then((response) => {\n        // Handle success\n        console.log(response);\n        loaddata();\n        setEdit(false);\n        setId(null);\n        setDrag(!drag);\n        if (response.status === 200) {\n          console.log(\"Data updated successfully\");\n        }\n      })\n      .catch((error) => {\n        // Handle error\n\n        console.error(\"Failed to update data:\", error);\n      });\n  };\n\n  const handleDragend = (e) => {\n    const newLat = e.target.getLatLng().lat;\n    const newLng = e.target.getLatLng().lng;\n\n    setForm({\n      ...form,\n      latitude: newLat,\n      longitude: newLng,\n    });\n    updateArrayData(id, newLat, newLng);\n  };\n\n  const updateArrayData = (id, latitude, longitude) => {\n    setData((prevData) =>\n      prevData.map((item) =>\n        item.id === id ? { ...item, latitude, longitude } : item\n      )\n    );\n  };\n  // Handle cancel\n  const handleCancel = () => {\n    setEdit(false);\n    setId(null);\n    setDrag(!drag);\n  };\n\n  return (\n    <>\n      <div className=\"flex\">\n        {userLocation && (\n          <MapContainer\n            center={center}\n            zoom={16}\n            ref={mapRef} // Assign the map instance to the ref\n            className=\"MapContainer\"\n            bounds={bounds}\n            style={{ height: \"89vh\", width: \"87%\" }}\n            minZoom={6}\n          >\n            <CombineLayers />\n            <LocationMarker />\n            <CSVFileLocal />\n            {Object.keys(groupedMarkers).map((category, index) => (\n              <MarkerClusterGroup\n                key={index}\n                maxClusterRadius={50}\n                chunkedLoading\n              >\n                {groupedMarkers[category].map((dataItem, markerIndex) => {\n                  let markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\n\n                  if (category === \"Flood\") {\n                    markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\n                  } else if (category === \"Land Slide\") {\n                    markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\n                  } else if (category === \"Active Shooting\") {\n                    markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\n                  }\n\n                  return (\n                    <Marker\n                      eventHandlers={{\n                        dragend: (e) => console.log(e),\n                      }}\n                      draggable={id === dataItem.id ? drag : false}\n                      key={markerIndex}\n                      position={[dataItem.latitude, dataItem.longitude]}\n                      icon={markerIcon}\n                    >\n                      <Popup>\n                        <div>\n                          <p>ID: {dataItem.id}</p>\n                          <p>category: {dataItem.category}</p>\n                          <p>Latitude: {dataItem.latitude}</p>\n                          <p>Longitude: {dataItem.longitude}</p>\n                          <p>Sent At: {dataItem.sent_at}</p>\n                          <button\n                            onClick={() =>\n                              handleEdit(\n                                dataItem.id,\n                                dataItem.category,\n                                dataItem.latitude,\n                                dataItem.longitude\n                              )\n                            }\n                            className=\"border-2 border-blue-500 rounded-lg p-1 bg-blue-500 text-yellow-200 mr-4\"\n                          >\n                            Update\n                          </button>\n                          <button\n                            onClick={() => handleDeleteMarker(dataItem.id)}\n                            className=\"border-2 border-rose-500 rounded-lg p-1 bg-red-500 text-yellow-100\"\n                          >\n                            Delete\n                          </button>\n                        </div>\n                      </Popup>\n                    </Marker>\n                  );\n                })}\n              </MarkerClusterGroup>\n            ))}\n            {showUserLocation && (\n              <Marker\n                position={userLocation}\n                icon={createCustomIcon(\"raise-hand.png\", [40, 40])}\n              >\n                <Popup>Your Location</Popup>\n              </Marker>\n            )}\n            {/* Render newly added markers */}\n            {markers.map((newMarker, markerIndex) => {\n              let markerIcon;\n              if (newMarker.category === \"Fire\") {\n                markerIcon = createCustomIcon(\"fire.png\", [38, 38]);\n              } else if (newMarker.category === \"Flood\") {\n                markerIcon = createCustomIcon(\"flood.png\", [38, 38]);\n              } else if (newMarker.category === \"Land Slide\") {\n                markerIcon = createCustomIcon(\"landslide.png\", [38, 38]);\n              } else if (newMarker.category === \"Active Shooting\") {\n                markerIcon = createCustomIcon(\"criminal.png\", [38, 38]);\n              }\n\n              return (\n                <Marker\n                  key={markerIndex}\n                  position={[newMarker.latitude, newMarker.longitude]}\n                  icon={markerIcon}\n                  eventHandlers={{\n                    dragend: handleDragend,\n                  }}\n                  draggable={id === newMarker.id ? drag : false}\n                >\n                  <Popup>\n                    <div>\n                      <p>ID: {newMarker.id}</p>\n                      <p>category: {newMarker.category}</p>\n                      <p>Latitude: {newMarker.latitude}</p>\n                      <p>Longitude: {newMarker.longitude}</p>\n                      <p>Sent At: {newMarker.sent_at}</p>\n                      <button className=\"border-2 border-blue-500 rounded-lg p-1 bg-blue-500 text-yellow-200 mr-4\">\n                        Update\n                      </button>\n                      <button\n                        onClick={() => handleDeleteMarker(newMarker.id)}\n                        className=\"border-2 border-rose-500 rounded-lg p-1 bg-red-500 text-yellow-100\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </Popup>\n                </Marker>\n              );\n            })}\n          </MapContainer>\n        )}\n        {edit ? (\n          <Formedit\n            titleOptions={titleOptions}\n            handleOnChange={handleOnChange}\n            handleCancel={handleCancel}\n            id={id}\n            form={form}\n            setForm={setForm}\n            handleSubmitEdit={handleSubmitEdit}\n          />\n        ) : (\n          <form\n            className=\"bg-white shadow-md rounded px-4 py-2\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"mb-4\">\n              <label\n                htmlFor=\"category\"\n                className=\"block text-gray-700 font-semibold\"\n              >\n                category:\n              </label>\n              <select\n                name=\"category\"\n                value={form.category} // Add this line to set the select element's value\n                id=\"category\"\n                onChange={(e) => handleOnChange(e)}\n                className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n              >\n                {titleOptions.map((option, index) => (\n                  <option key={index} value={option}>\n                    {option}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"mb-4\">\n              <label\n                htmlFor=\"latitude\"\n                className=\"block text-gray-700 font-semibold\"\n              >\n                Latitude:\n              </label>\n              <input\n                type=\"number\"\n                name=\"latitude\"\n                value={form.latitude}\n                id=\"latitude\"\n                onChange={(e) => handleOnChange(e)}\n                className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n              />\n            </div>\n            <div className=\"mb-4\">\n              <label\n                htmlFor=\"longitude\"\n                className=\"block text-gray-700 font-semibold\"\n              >\n                Longitude:\n              </label>\n              <input\n                type=\"number\"\n                name=\"longitude\"\n                value={form.longitude}\n                onChange={(e) => handleOnChange(e)}\n                id=\"longitude\"\n                className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n              />\n            </div>\n            <div className=\"text-center\">\n              <button\n                type=\"submit\"\n                disabled={form.category === \"Select Category\"} // Disable the button when the category is \"Select Category\"\n                className=\"bg-blue-500 text-white font-semibold py-2 px-4 rounded hover-bg-blue-600 focus:outline-none focus:bg-blue-600\"\n              >\n                Submit\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Mapadmin;\n","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Home.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Navbar.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Form/AdminLoginForm.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/Form/Formedit.js",["109"],[],"import React, { useEffect } from \"react\";\nimport { fetchNotificationById } from \"../functions/fetchNotifications\";\nconst Formedit = ({\n  titleOptions,\n  handleOnChange,\n  handleCancel,\n  id,\n  form,\n  setForm,\n  handleSubmitEdit,\n}) => {\n  useEffect(() => {\n    if (id) {\n      loadData(id);\n    }\n  }, [id]);\n\n  const loadData = (id) => {\n    fetchNotificationById(id)\n      .then((res) => {\n        if (res) {\n          // Update 'form' with data only if it exists\n          setForm((prevForm) => ({\n            ...prevForm,\n            category: res.category,\n            latitude: res.latitude,\n            longitude: res.longitude,\n          }));\n        } else {\n          console.log(\"Notification data not found\");\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <form\n      className=\"bg-white shadow-md rounded px-4 py-2\"\n      onSubmit={(e) => handleSubmitEdit(e)}\n    >\n      <div className=\"mb-4\">\n        <label htmlFor=\"category\" className=\"block text-gray-700 font-semibold\">\n          category:\n        </label>\n        <select\n          name=\"category\"\n          id=\"category\"\n          value={form.category}\n          onChange={(e) => handleOnChange(e)}\n          className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n        >\n          {titleOptions.map((option, index) => (\n            <option key={index} value={option}>\n              {option}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"mb-4\">\n        <label htmlFor=\"latitude\" className=\"block text-gray-700 font-semibold\">\n          Latitude:\n        </label>\n        <input\n          type=\"number\"\n          name=\"latitude\"\n          value={form.latitude}\n          id=\"latitude\"\n          onChange={(e) => handleOnChange(e)}\n          className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n        />\n      </div>\n      <div className=\"mb-4\">\n        <label\n          htmlFor=\"longitude\"\n          className=\"block text-gray-700 font-semibold\"\n        >\n          Longitude:\n        </label>\n        <input\n          type=\"number\"\n          name=\"longitude\"\n          value={form.longitude}\n          onChange={(e) => handleOnChange(e)}\n          id=\"longitude\"\n          className=\"w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:border-blue-500\"\n        />\n      </div>\n      <div className=\"text-center\">\n        <button\n          type=\"submit\"\n          className=\"bg-green-600 text-white font-semibold py-2 px-4 rounded hover-bg-blue-600 focus:outline-none focus:bg-blue-600 m-1\"\n        >\n          Edit\n        </button>\n        <button\n          onClick={handleCancel}\n          type=\"submit\"\n          className=\"bg-red-600 text-white font-semibold py-2 px-4 rounded hover-bg-blue-600 focus:outline-none focus:bg-green-400\"\n        >\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Formedit;\n","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/CombineLayers.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/StyleofMap/CSVFileLocal.js",["110"],[],"import { useState, useEffect } from \"react\";\nimport Papa from \"papaparse\";\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\nimport L from \"leaflet\";\n\nconst CSVFileLocal = () => {\n  const [airport, setAirport] = useState(null);\n  let DefaultIcon = L.icon({\n    iconUrl: require(\"../../assets/airport.png\"),\n    shadowUrl: iconShadow,\n    iconSize: [20, 20],\n    iconAnchor: [12.5, 20.5],\n  });\n  L.Marker.prototype.options.icon = DefaultIcon;\n\n  useEffect(() => {\n    //code\n    fetchAirport();\n  }, []); //add array for block infinity loop\n\n  const fetchAirport = async () => {\n    const file = require(\"../../assets/Airport.csv\");\n    const res = await fetch(file);\n    // console.log(\"Show Response\", res);\n\n    const text = await res.text();\n    // console.log(\"Show Text\", text);\n\n    const json = Papa.parse(text, { header: true }).data;\n    // console.log(\"Show Json\", json);\n\n    const filterAirport = json.filter(\n      (item) => item.long !== \"\" && item.lat !== \"\"\n    ); //กรอง data เก็บไว้ใน item\n    setAirport(filterAirport);\n  };\n\n};\n\nexport default CSVFileLocal;\n","/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/functions/fetchNotifications.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/ProvinceTH.js",[],[],"/Users/potterpurpp/Documents/GitHub/Dii-2023-hackaton/react-app/src/components/layers/PointofInterest.js",[],[],{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":2,"column":8,"nodeType":"125","messageId":"126","endLine":2,"endColumn":14},{"ruleId":"123","severity":1,"message":"127","line":2,"column":8,"nodeType":"125","messageId":"126","endLine":2,"endColumn":13},{"ruleId":"123","severity":1,"message":"128","line":8,"column":3,"nodeType":"125","messageId":"126","endLine":8,"endColumn":9},{"ruleId":"123","severity":1,"message":"129","line":9,"column":3,"nodeType":"125","messageId":"126","endLine":9,"endColumn":9},{"ruleId":"123","severity":1,"message":"130","line":10,"column":3,"nodeType":"125","messageId":"126","endLine":10,"endColumn":12},{"ruleId":"123","severity":1,"message":"131","line":20,"column":8,"nodeType":"125","messageId":"126","endLine":20,"endColumn":12},{"ruleId":"123","severity":1,"message":"132","line":29,"column":10,"nodeType":"125","messageId":"126","endLine":29,"endColumn":14},{"ruleId":"123","severity":1,"message":"133","line":32,"column":9,"nodeType":"125","messageId":"126","endLine":32,"endColumn":21},{"ruleId":"123","severity":1,"message":"134","line":42,"column":10,"nodeType":"125","messageId":"126","endLine":42,"endColumn":14},{"ruleId":"123","severity":1,"message":"135","line":42,"column":16,"nodeType":"125","messageId":"126","endLine":42,"endColumn":23},{"ruleId":"123","severity":1,"message":"136","line":49,"column":19,"nodeType":"125","messageId":"126","endLine":49,"endColumn":29},{"ruleId":"123","severity":1,"message":"137","line":113,"column":9,"nodeType":"125","messageId":"126","endLine":113,"endColumn":23},{"ruleId":"123","severity":1,"message":"138","line":129,"column":9,"nodeType":"125","messageId":"126","endLine":129,"endColumn":25},{"ruleId":"123","severity":1,"message":"132","line":21,"column":10,"nodeType":"125","messageId":"126","endLine":21,"endColumn":14},{"ruleId":"123","severity":1,"message":"134","line":40,"column":10,"nodeType":"125","messageId":"126","endLine":40,"endColumn":14},{"ruleId":"123","severity":1,"message":"138","line":140,"column":9,"nodeType":"125","messageId":"126","endLine":140,"endColumn":25},{"ruleId":"139","severity":1,"message":"140","line":16,"column":6,"nodeType":"141","endLine":16,"endColumn":10,"suggestions":"142"},{"ruleId":"123","severity":1,"message":"143","line":7,"column":10,"nodeType":"125","messageId":"126","endLine":7,"endColumn":17},"dot-location",[],"new-parens",[],"no-mixed-operators",[],"no-new-object",["144"],"no-whitespace-before-property",[],"rest-spread-spacing",[],"no-unused-vars","'styles' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'Circle' is defined but never used.","'useMap' is defined but never used.","'TileLayer' is defined but never used.","'liff' is defined but never used.","'zoom' is assigned a value but never used.","'titleOptions' is assigned a value but never used.","'data' is assigned a value but never used.","'setData' is assigned a value but never used.","'setMarkers' is assigned a value but never used.","'handleOnChange' is assigned a value but never used.","'selectedCategory' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","ArrayExpression",["145"],"'airport' is assigned a value but never used.","no-object-constructor",{"desc":"146","fix":"147"},"Update the dependencies array to be: [id, loadData]",{"range":"148","text":"149"},[303,307],"[id, loadData]"]